<!--
	=====================
	Partials/ResultRow.html
-->

<div class="result-list-item result-list-item-type-{resultrow.type}">
	<f:if condition="{conf.resultsNumeration}">
		<span class="result-number">{resultrow.number}.</span>
	</f:if>
	<span class="result-title"><f:format.raw>{resultrow.title}</f:format.raw></span>
	<f:if condition="{conf.showScoreScale}">
		<f:if condition="{resultrow.percent} > 0">
			<span class="scoreBar"><span class="score" style="width: {resultrow.percent}%;"></span></span>
		</f:if>
	</f:if>
	<span class="clearer">&nbsp;</span>
	<div class="add-info">
		<f:if condition="{conf.showResultUrl}">
			<i>{f:translate(key: 'LLL:EXT:ke_search/pi1/locallang.xml:label_resulturl')}:</i> <f:format.raw>{resultrow.url}</f:format.raw><br />
		</f:if>

		<f:if condition="{resultrow.type} == 'cal'">
			<f:then>
				<f:comment><!-- Special date rendering for cal result rows --></f:comment>
				<i>{f:translate(key: 'LLL:EXT:ke_search/pi1/locallang.xml:label_date')}:</i>
				<f:if condition="{resultrow.cal.allday} != 1">
					<f:then>
						<f:if condition="{resultrow.cal.sameday}">
							<f:then>
								<f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.dateAndTime")}'>@{resultrow.date_timestamp}</f:format.date>
								- <f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.time")}'>@{resultrow.cal.end_timestamp}</f:format.date>
							</f:then>
							<f:else>
								<f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.dateAndTimeWithoutYear")}'>@{resultrow.date_timestamp}</f:format.date>
								- <f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.dateAndTime")}'>@{resultrow.cal.end_timestamp}</f:format.date>
							</f:else>
						</f:if>
					</f:then>
					<f:else>
						<f:if condition="{resultrow.cal.sameday}">
							<f:then>
								<f:format.date format='%e. %B %Y'>@{resultrow.date_timestamp}</f:format.date>
								<f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.dateWithYear")}'>@{resultrow.date_timestamp}</f:format.date>
							</f:then>
							<f:else>
								<f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.dateWithYear")}'>@{resultrow.date_timestamp}</f:format.date>
								- <f:format.date format='{f:translate(key: "LLL:EXT:ke_search/pi1/locallang.xml:dateformat.dateWithYear")}'>@{resultrow.cal.end_timestamp}</f:format.date>
							</f:else>
						</f:if>
					</f:else>
				</f:if>
				<br />
			</f:then>
			<f:else>
				<f:comment><!-- Default date rendering --></f:comment>
				<f:if condition="{conf.showDate}">
					<i>{f:translate(key: 'LLL:EXT:ke_search/pi1/locallang.xml:label_date')}:</i> {resultrow.date}<br />
				</f:if>
			</f:else>
		</f:if>

		<f:if condition="{resultrow.percent} > 0">
			<f:if condition="{conf.showScore}">
				<i>{f:translate(key: 'LLL:EXT:ke_search/pi1/locallang.xml:label_score')}:</i> {resultrow.score}<br />
			</f:if>
			<f:if condition="{conf.showPercentalScore}">
				<i>{f:translate(key: 'LLL:EXT:ke_search/pi1/locallang.xml:label_score_percent')}:</i> {resultrow.percent}<br />
			</f:if>
		</f:if>
		<f:if condition="{conf.showTags}">
			<i>{f:translate(key: 'LLL:EXT:ke_search/pi1/locallang.xml:label_tags')}:</i> {resultrow.tags}<br />
		</f:if>
	</div>
	<span class="teaser_icon"><f:format.raw>{resultrow.imageHtml}</f:format.raw></span>
	<span class="result-teaser"><f:format.raw>{resultrow.teaser}</f:format.raw></span>
	<span class="clearer">&nbsp;</span>
</div>